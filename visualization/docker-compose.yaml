services:
  superset:
    image: apache/superset:latest
    container_name: synqtab-visualization
    ports:
      - "8088:8088"
    environment:
      SUPERSET_SECRET_KEY: "some_random_key"
      ADMIN_USERNAME: "dq_user"
      ADMIN_PASSWORD: "dq_pass"
      ADMIN_FIRSTNAME: "SynQTab"
      ADMIN_LASTNAME: "Visualization"
      ADMIN_EMAIL: "visualization@synqtab.com"
    volumes:
      - superset_home:/app/superset_home
      - ./init-superset.sh:/init-visualization.sh
    entrypoint: ["/init-visualization.sh"]

volumes:
  superset_home:
